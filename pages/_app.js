import { useEffect, useState } from 'react'
import './globals.scss'

import { Inter } from 'next/font/google'
import { Header } from '@/src/components/Header/Header'
import { Footer } from '@/src/components/Footer/Footer'
import Head from 'next/head'

const inter = Inter({ subsets: ['latin'] })

export const metadata = {
    title: 'Game Keys',
    description: 'Generated by create next app',
}

export default function MyApp({ Component, pageProps }) {
    const [favs, setFavs] = useState([])

    useEffect(() => {
        const favGames = JSON.parse(localStorage.getItem('favGames')) || []

        setFavs(favGames)
    }, [])

    return (
        <>
            <style jsx global>{`
                html {
                    font-family: ${inter.style.fontFamily};
                }
            `}</style>
            <Head>
                <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
            </Head>
            <Header favs={favs} setFavs={setFavs} />
            <Component favs={favs} setFavs={setFavs} {...pageProps} />
            <Footer />
        </>
    )
}
